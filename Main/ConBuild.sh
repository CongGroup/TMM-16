#!/bin/bash

ALL_CNT=1298600014

BUILD_CNT=1000000000

#32
#PER_BUILD_NUM=31250000

#16
#PER_BUILD_NUM=62500000

#8
#PER_BUILD_NUM=125000000

#4
#PER_BUILD_NUM=250000000

#2
#PER_BUILD_NUM=500000000

#1
#PER_BUILD_NUM=1000000000

INDEX_LOAD=0.9
INDEX_B=15
LSHL=20


#FOR Build Cache Test

ALL_CNT=1000000
BUILD_CNT=250000
PER_BUILD_NUM=62500
LSHL=10

#END

#reset memset 0
./BuildIndex 1 $PER_BUILD_NUM 0 $ALL_CNT $INDEX_LOAD $INDEX_B $LSHL


for ((i=1;i<BUILD_CNT;i=i+PER_BUILD_NUM))
do

nohup ./BuildIndex $i $PER_BUILD_NUM 1 $ALL_CNT $INDEX_LOAD $INDEX_B $LSHL &

done
